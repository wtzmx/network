# å…¬å…±ç‰©å“åšå¼ˆç½‘ç»œå®éªŒ

æœ¬é¡¹ç›®å®ç°äº†è®ºæ–‡ä¸­æè¿°çš„å…¨æˆ–æ— å…¬å…±ç‰©å“åšå¼ˆï¼ˆall-or-nothing public goods gameï¼‰åœ¨ç½‘ç»œç¯å¢ƒä¸‹çš„å››ä¸ªä¸»è¦å®éªŒã€‚

## ç¯å¢ƒé…ç½®

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨é…ç½®æ–‡ä»¶ï¼ˆæ¨èï¼‰

é¡¹ç›®æä¾›äº†å®Œæ•´çš„ä¾èµ–é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨pipå®‰è£…ï¼š

```bash
pip install -r requirements.txt
```

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å®‰è£…ä¾èµ–

å¦‚æœä¸æƒ³ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨å®‰è£…æ ¸å¿ƒä¾èµ–ï¼š

```bash
pip install numpy networkx matplotlib seaborn tqdm
```

### Pythonç‰ˆæœ¬è¦æ±‚
- å»ºè®®ä½¿ç”¨ Python >= 3.8

## é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ requirements.txt        # ç¯å¢ƒä¾èµ–é…ç½®æ–‡ä»¶
â”œâ”€â”€ public_goods_game.py   # æ ¸å¿ƒåšå¼ˆæ¨¡å‹å®ç°
â”œâ”€â”€ example.py             # åŸºç¡€ç¤ºä¾‹è¿è¡Œè„šæœ¬
â”œâ”€â”€ experiments/
â”‚   â”œâ”€â”€ convergence_experiment.py        # å®éªŒä¸€ï¼šåŸºæœ¬æ”¶æ•›æ€§å®éªŒ
â”‚   â”œâ”€â”€ geometric_network_experiment.py   # å®éªŒäºŒï¼šéšæœºå‡ ä½•ç½‘ç»œå®éªŒ
â”‚   â”œâ”€â”€ regular_network_experiment.py     # å®éªŒä¸‰ï¼šè§„åˆ™ç½‘ç»œå®éªŒ
â”‚   â””â”€â”€ stability_analysis.py            # å®éªŒå››ï¼šç¨³å®šæ€§åˆ†æå®éªŒ
â””â”€â”€ results/                # å®éªŒç»“æœè¾“å‡ºç›®å½•
```

## å®éªŒå†…å®¹

### å®éªŒä¸€ï¼šåŸºæœ¬æ”¶æ•›æ€§å®éªŒ

ç›®çš„ï¼šéªŒè¯ç†è®ºç»“æœï¼ˆç³»ç»Ÿæœ€ç»ˆä¼šæ”¶æ•›åˆ°å…¨åˆä½œæˆ–å…¨ä¸åˆä½œçŠ¶æ€ï¼‰

```bash
python experiments/convergence_experiment.py
```

**å®éªŒè®¾ç½®ï¼š**
- æ€»äººæ•°ï¼š50äºº
- å­¦ä¹ ç‡ï¼š0.3
- æœ€å¤§è¿è¡Œè½®æ•°ï¼š1000ä¸‡è½®
- æ”¶æ•›é˜ˆå€¼ï¼š10â»â´

**è¾“å‡ºï¼š**
- æ”¶æ•›æ—¶é—´åˆ†å¸ƒå›¾
- æœ€ç»ˆçŠ¶æ€æ¯”ä¾‹å›¾
- å…¸å‹æ”¶æ•›è½¨è¿¹å›¾

### å®éªŒäºŒï¼šéšæœºå‡ ä½•ç½‘ç»œå®éªŒ

ç›®çš„ï¼šç ”ç©¶ä¸åŒç½‘ç»œå¯†åº¦å¯¹åˆä½œçš„å½±å“

```bash
python experiments/geometric_network_experiment.py
```

**å®éªŒè®¾ç½®ï¼š**
- ç½‘ç»œç±»å‹ï¼šéšæœºå‡ ä½•ç½‘ç»œ
- ç½‘ç»œå¯†åº¦å‚æ•°(rg)ï¼š[0.15, 0.2, 0.25, 0.3]
- æ¯ç§å‚æ•°è¿è¡Œ500æ¬¡

**è¾“å‡ºï¼š**
- ç½‘ç»œå¯†åº¦ä¸åˆä½œç‡å…³ç³»å›¾
- ç½‘ç»œç‰¹å¾åˆ†æå›¾
- æ”¶æ•›æ—¶é—´ç»Ÿè®¡

### å®éªŒä¸‰ï¼šè§„åˆ™ç½‘ç»œå®éªŒ

ç›®çš„ï¼šç ”ç©¶è§„åˆ™ç½‘ç»œç»“æ„ä¸‹çš„ç³»ç»Ÿè¡Œä¸º

```bash
python experiments/regular_network_experiment.py
```

**å®éªŒè®¾ç½®ï¼š**
- ç½‘ç»œç±»å‹ï¼šç¯å½¢è§„åˆ™ç½‘ç»œ
- é‚»å±…æ•°é‡ï¼š[2, 4, 6, 8]
- æ¯ç§å‚æ•°è¿è¡Œ500æ¬¡

**è¾“å‡ºï¼š**
- æ”¶æ•›æ—¶é—´åˆ†å¸ƒ
- æœ€ç»ˆçŠ¶æ€åˆ†å¸ƒ
- ç½‘ç»œç‰¹å¾åˆ†æ

### å®éªŒå››ï¼šç¨³å®šæ€§åˆ†æå®éªŒ

ç›®çš„ï¼šç ”ç©¶ç½‘ç»œç»“æ„å¯¹ç³»ç»Ÿç¨³å®šæ€§çš„å½±å“

```bash
python experiments/stability_analysis.py
```

**å®éªŒè®¾ç½®ï¼š**
- æ¯”è¾ƒéšæœºç½‘ç»œå’Œè§„åˆ™ç½‘ç»œ
- è§‚å¯Ÿä¸­é—´çŠ¶æ€
- åˆ†ææ”¶æ•›æ—¶é—´åˆ†å¸ƒ

**è¾“å‡ºï¼š**
- æ”¶æ•›æ—¶é—´åˆ†å¸ƒå¯¹æ¯”
- ä¿¡å¿µæ¼”åŒ–è½¨è¿¹
- ä¸­é—´çŠ¶æ€åˆ†æ
- ç½‘ç»œç»“æ„å½±å“åˆ†æ

## æ ¸å¿ƒå‚æ•°é…ç½®

```python
# åœ¨ public_goods_game.py ä¸­è®¾ç½®
PARAMS = {
    'N': 50,           # æ™ºèƒ½ä½“æ•°é‡
    'alpha': 0.3,      # å­¦ä¹ ç‡
    'max_rounds': 1e7, # æœ€å¤§è½®æ•°
    'epsilon': 1e-4    # æ”¶æ•›é˜ˆå€¼
}
```

## å¯è§†åŒ–ç»“æœ

æ‰€æœ‰å®éªŒéƒ½ä¼šç”Ÿæˆè¯¦ç»†çš„å¯è§†åŒ–ç»“æœï¼ŒåŒ…æ‹¬ï¼š

1. æ—¶é—´åºåˆ—å›¾
   - åˆä½œç‡éšæ—¶é—´å˜åŒ–
   - ä¿¡å¿µå€¼æ¼”åŒ–è½¨è¿¹
   
2. ç½‘ç»œç»“æ„å›¾
   - èŠ‚ç‚¹é¢œè‰²è¡¨ç¤ºä¿¡å¿µå€¼
   - è¾¹è¡¨ç¤ºæ™ºèƒ½ä½“é—´è”ç³»

3. ç»Ÿè®¡åˆ†å¸ƒå›¾
   - æ”¶æ•›æ—¶é—´åˆ†å¸ƒ
   - æœ€ç»ˆçŠ¶æ€åˆ†å¸ƒ

## æ•°æ®åˆ†æè¾“å‡º

æ¯ä¸ªå®éªŒä¼šç”Ÿæˆä»¥ä¸‹ç»Ÿè®¡ç»“æœï¼š

```
results/
â”œâ”€â”€ convergence/
â”‚   â”œâ”€â”€ convergence_times.csv
â”‚   â”œâ”€â”€ final_states.csv
â”‚   â””â”€â”€ evolution_trajectories.csv
â”œâ”€â”€ geometric/
â”‚   â”œâ”€â”€ cooperation_rates.csv
â”‚   â”œâ”€â”€ network_metrics.csv
â”‚   â””â”€â”€ convergence_stats.csv
â””â”€â”€ ...
```

## æ³¨æ„äº‹é¡¹

1. âš ï¸ å®éªŒè¿è¡Œæ—¶é—´å¯èƒ½è¾ƒé•¿ï¼Œç‰¹åˆ«æ˜¯æ”¶æ•›æ€§å®éªŒ
2. ğŸ’¡ å¯ä»¥é€šè¿‡ä¿®æ”¹å‚æ•°æ¥è°ƒæ•´å®éªŒè§„æ¨¡
3. ğŸ“Š æ‰€æœ‰ç»“æœä¼šè‡ªåŠ¨ä¿å­˜ä¸ºé«˜è´¨é‡å›¾ç‰‡

## æ‰©å±•å»ºè®®

### 1. è‡ªå®šä¹‰æ”¶ç›Šå‡½æ•°

```python
# in public_goods_game.py
def custom_payoff_function(cooperation_rate, threshold):
    """
    è‡ªå®šä¹‰æ”¶ç›Šç”Ÿæˆå‡½æ•°
    Args:
        cooperation_rate: float, åˆä½œç‡
        threshold: float, é˜ˆå€¼
    Returns:
        float: æ”¶ç›Šå€¼
    """
    if cooperation_rate >= threshold:
        return 1.0
    return 0.0
```

### 2. æ·»åŠ æ–°çš„ç½‘ç»œå¯†åº¦å‚æ•°

```python
# in geometric_network_experiment.py
DENSITY_PARAMS = [0.15, 0.2, 0.25, 0.3, 0.35]  # æ·»åŠ æ–°çš„å¯†åº¦å‚æ•°
```

### 3. æ‰©å±•ç½‘ç»œç±»å‹

```python
# in stability_analysis.py
def create_custom_network(N, param):
    """
    åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œç»“æ„
    """
    G = nx.Graph()
    # æ·»åŠ è‡ªå®šä¹‰ç½‘ç»œç”Ÿæˆé€»è¾‘
    return G
```